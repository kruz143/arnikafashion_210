var ajaxFilters;!function(e){"use strict";var t;ajaxFilters={init:function(){t={in_progress:!1},this.ajaxFilters()},ajaxFilters:function(){function r(r){e(".et-loader.product-ajax").addClass("loading"),e("body").addClass("ajax-progress"),t.in_progress=!0;var a=r;a=(a=(a=(a=a.replace("?et_ajax=true&","?")).replace("?et_ajax=true","?")).replace("et_ajax=true&","")).replace("et_ajax=true",""),r.includes("?")?r=r.replace("?","?et_ajax=true&"):r+="?et_ajax=true",e.ajax({url:r,method:"GET",timeout:1e5,dataType:"text",beforeSend:function(){e(".sidebar.et-mini-content.active").removeClass("active"),e(".et-toggle-mob-sidebars-wrapper").removeClass("et-content-shown")},success:function(t){var r=e(t).find(".products-loop").html(),i=e(t).find(".sidebar").html(),n=e(t).find(".shop-filters").html(),o=e(t).find(".after-shop-loop").html(),l=e(t).find(".empty-category-block").html();o=(o=o.replace("?et_ajax=true","?")).replace("et_ajax=true","");var s=e(".content-page .products-loop"),c=e(".content-page .empty-category-block");if(l?(s.html(""),c.length?(c.html(l),c.removeClass("hidden")):s.after('<div class="empty-category-block">'+l+"</div>")):(c.html("").addClass("hidden"),s.html(r)),e(".content-page .sidebar").html(i),e(".content-page .shop-filters").html(n),e.each(e("select.woocommerce-widget-layered-nav-dropdown"),function(){var t=e(this);jQuery(t).selectWoo({minimumResultsForSearch:5,width:"100%",language:{noResults:function(){return etAjaxFiltersConfig.notices.noMatchFound}}})}),"undefined"==typeof woocommerce_price_slider_params){var d=e(t).find(".et_woocommerce_price_slider_params").html();e("body").prepend(d)}etTheme.categoriesAccordion(),e(document).trigger("et_ajax_content_loaded"),o?e(".content-page .after-shop-loop").html(o):e(".content-page .after-shop-loop").html(""),window.history.pushState("","",a)},error:function(e){etTheme.et_notice("ajax-filters","error")},complete:function(){e(".et-loader.product-ajax").removeClass("loading"),etTheme.reinitSwatches(),etTheme.contentProdImages(),etTheme.countdown(),e("body").removeClass("swc-default-done"),etTheme.widgetsOpenCloseDefault(),function(){if(e(".price_slider").length){if("undefined"==typeof woocommerce_price_slider_params)return!1;e("input#min_price, input#max_price").hide(),e(".price_slider, .price_label").show();var t=e(".price_slider_amount #min_price"),r=e(".price_slider_amount #max_price"),a=t.data("min"),i=r.data("max"),n=parseInt(t.val()?t.val():a,10),o=parseInt(r.val()?r.val():i,10);e(".price_slider").slider({range:!0,animate:!0,min:a,max:i,values:[n,o],create:function(){t.val(n),r.val(o),e(document.body).trigger("price_slider_create",[n,o])},slide:function(t,r){e("input#min_price").val(r.values[0]),e("input#max_price").val(r.values[1]),e(document.body).trigger("price_slider_slide",[r.values[0],r.values[1]])},change:function(t,r){e(document.body).trigger("price_slider_change",[r.values[0],r.values[1]])}})}}(),etTheme.sidebarMobile(),etTheme.stickySidebar(),e("body").removeClass("ajax-progress"),t.in_progress=!1,etTheme.global_image_lazy();var r=e(".content-page .main-products-loop > .products-loop").offset().top;e(".content-page .filter-wrap").length&&(r-=e(".content-page .filter-wrap").outerHeight()),r-=110,e("html, body").animate({scrollTop:r},1e3)}})}function a(t,r,a){var i=setInterval(function(){var n=parseFloat(t.get(0).style.left);r?n+.3>=100?(t.css("left","100%"),clearInterval(i)):t.css("left",n+.3+"%"):n-.3<=0?(t.css("left",0),clearInterval(i)):t.css("left",n-.3+"%"),a&&function(){var t=e(".etheme-price-filter .ui-slider-range"),r=e(t).get(0).style.width;parseFloat(r)+.3>=100?t.css("width","100%"):t.css("width",parseFloat(r)+.3+"%")}()},1)}etAjaxFiltersConfig.woocommerceSettings.ajax_filters&&(e(document).on("click",".etheme_swatches_filter ul li a, .woocommerce-widget-layered-nav ul li a, .widget_rating_filter ul li a, .widget_layered_nav_filters ul li a",function(a){if(a.preventDefault(),!t.in_progress){var i=e(this).attr("href"),n=window.location.href;if(!e(this).hasClass("remove-brand")&&!e(this).parents(".widget_layered_nav_filters").hasClass("etheme-active-filters")&&n.indexOf("filter_brand")>1){var o=new URL(n).searchParams.get("filter_brand");i=i.replace("?","?filter_brand="+o+"&")}r(i)}}),e(document).on("click cnahge",".etheme_widget_brands_filter ul li a, .dropdown_product_brand",function(t){t.preventDefault();var a="";if(e(this).hasClass("dropdown_product_brand")){if(!(a=e(this).find("option:selected").data("url")))return}else a=e(this).attr("href");var i=e(this).parents(".etheme_widget_brands_filter");if(i.hasClass("on_brand")){var n=i.attr("data-shop-url"),o=function(e){var t={},r=document.createElement("a");r.href=e;for(var a=r.search.substring(1).split("&"),i=0;i<a.length;i++){var n=a[i].split("=");t[n[0]]=decodeURIComponent(n[1])}return t}(a),l=0;n+="?",e.each(o,function(e,t){l++,n=Object.keys(o).length>l?n+e+"="+t+"&":n+e+"="+t}),r(n)}else r(a)}),e(document).on("click",".et-reset-price",function(i){if(i.preventDefault(),!t.in_progress){var n=e(this).parents(".etheme-price-filter form"),o=n.find("#min_price").data("min"),l=n.find("#max_price").data("max");n.find("#min_price").val(o),n.find("#max_price").val(l),e(document.body).trigger("price_slider_slide",[o,l]),e.each(e(".etheme-price-filter .ui-slider-handle"),function(t,r){a(e(r),!(1!=t),!0)}),a(e(".etheme-price-filter .ui-slider-range"),!1,!1),r(n.attr("action")+"?"+n.find("input").not("#min_price, #max_price").serialize())}}),e(document).on("price_slider_change",function(){if(e(".et-reset-price").removeClass("hidden"),!t.in_progress){var a=e(this).find(".etheme-price-filter form").first();if(a&&!(a.length<1))r(a.attr("action")+"?"+a.serialize())}}),e(document).on("click",'.widget_price_filter .button:not(".et-reset-price")',function(a){if(a.preventDefault(),!t.in_progress){var i=e(this).closest("form");r(i.attr("action")+"?"+i.serialize())}}),e(document).on("change","select.woocommerce-widget-layered-nav-dropdown",function(a){if(a.preventDefault(),!t.in_progress){var i=e(this),n=window.location.href,o=i.attr("class"),l="",s="";if(o=o.split(" "),e.each(o,function(e,t){t.includes("dropdown_layered_nav_")&&(l=t.replace("dropdown_layered_nav_",""))}),l="filter_"+l,n.includes(l)){var c=i.parents("form").find("input[name="+l+"]").attr("value");s=n.replace(l+"="+c,l+"="+i.val())}else s=n.includes("?")?n.replace("?","?"+l+"="+i.val()+"&"):n+"?"+l+"="+i.val();s&&r(s)}})),etAjaxFiltersConfig.woocommerceSettings.ajax_pagination&&e(document).on("click",".woocommerce-pagination ul li a",function(a){a.preventDefault(),t.in_progress||r(e(this).attr("href"))})}},e(document).ready(function(){ajaxFilters.init()})}(jQuery);