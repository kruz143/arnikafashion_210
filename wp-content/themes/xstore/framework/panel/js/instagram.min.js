window.et_panel=window.et_panel||{},function(e){e(document).ready(function(e){var a={instagram_save_options:function(a,t){if(t.preventDefault(),e(".etheme-instagram-save-info").addClass("hidden"),confirm("Are you sure ?")){e(".etheme-instagram-settings").addClass("processing");var n={action:"et_panel_ajax",action_type:"et_instagram_save_settings",time:e("#instagram_time").val(),time_type:e("#instagram_time_type").val()};e.ajax({type:"POST",url:ajaxurl,data:n,success:function(a){"success"==a.type?e(".etheme-instagram-save-info.info-success").removeClass("hidden"):e(".etheme-instagram-save-info.info-error").removeClass("hidden"),e(document).find(".etheme-instagram-reinit")[0].click()},error:function(){alert("Error while deleting")},complete:function(){e(".etheme-instagram-settings").removeClass("processing")}})}},instagram_toogle_manual:function(a,t){t.preventDefault();var n=e(".etheme-instagram-manual-form");n.hasClass("hidden")?n.removeClass("hidden"):n.addClass("hidden")},instagram_connect_manual:function(a,t){if(t.preventDefault(),confirm("Are you sure")){var n=a.parent(),r={action:"et_panel_ajax",action_type:"et_instagram_user_add",token:e("#etheme-manual-token").val()};r.token?(n.find(".etheme-form-error").addClass("hidden"),e.ajax({type:"POST",url:ajaxurl,data:r,dataType:"JSON",success:function(e){"success"!=e.status?(n.find(".etheme-form-error-holder").text(""),n.find(".etheme-form-error-holder").text(e.msg),n.find(".etheme-form-error-holder").removeClass("hidden")):location.reload()},error:function(){alert("Error while deleting")},complete:function(){}})):n.find(".etheme-form-error").removeClass("hidden")}},instagram_user_remove:function(a,t){if(t.preventDefault(),confirm("Are you sure")){var n=a.parents(".etheme-user"),r={action:"et_panel_ajax",action_type:"et_instagram_user_remove",token:n.find(".user-token").attr("data-token")};e.ajax({type:"POST",url:ajaxurl,data:r,success:function(a){"success"!=a.status||(e(".etheme-user").length<2&&e(".etheme-no-users").removeClass("hidden"),n.remove())},error:function(){alert("Error while deleting")},complete:function(){}})}}};window.et_panel=Object.assign(window.et_panel,a);var t={1:{selector:".etheme-instagram-settings .etheme-instagram-save",type:"click",callback:et_panel.instagram_save_options},2:{selector:".etheme-instagram-manual",type:"click",callback:et_panel.instagram_toogle_manual},3:{selector:".etheme-manual-btn",type:"click",callback:et_panel.instagram_connect_manual},4:{selector:".etheme-user .user-remove",type:"click",callback:et_panel.instagram_user_remove}};e.each(t,function(a,t){"ready"==t.type?e(document).ready(function(a){t.callback(e(this),a)}):e(t.selector).on(t.type,function(a){t.callback(e(this),a)})})})}(jQuery,window.et_panel);